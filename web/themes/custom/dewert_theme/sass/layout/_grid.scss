// @file

// Constrain layout
// Provide a default max-width for the content wrappers
// @todo review the logic with gutters

.l-constrain{
  padding-left: rem(20);
  padding-right: rem(20);

  @include mappy-query(b-medium) {
    margin-left: auto;
    margin-right: auto;
    max-width: $l-medium;
    padding-left: 0;
    padding-right: 0;
  }

  @include mappy-query(b-big) {
    max-width: $l-big;
  }

  @include mappy-query(b-wide) {
    max-width: $l-wide;
  }
}

// Custom reusable grid
//

.l-grid {
  @include clearfix;
  margin-left: rem(20);
  margin-right: rem(20);

  .l-constrain &{
    margin-left: 0;
    margin-right: 0;
  }
}

.l-grid__row {
  @include clearfix;
  margin-left: - rem(20);
  margin-right: - rem(20);
}

.l-grid__column {
  box-sizing: border-box;
  float: left;
  padding-left: rem(20);
  padding-right: rem(20);
  width: 100%;

  .l-grid--cols-2 & {
    @include mappy-query(b-medium) {
      width: (1/2) * 100%;
    }
  }
  .l-grid--cols-3 & {
    @include mappy-query(b-medium) {
      width: (1/3) * 100%;
    }
  }
  .l-grid--cols-4 & {
    @include mappy-query(b-medium) {
      width: (1/4) * 100%;
    }
  }
  .l-grid--cols-5 & {
    @include mappy-query(b-medium) {
      width: (1/5) * 100%;
    }
  }
  .l-grid--cols-6 & {
    @include mappy-query(b-medium) {
      width: (1/6) * 100%;
    }
  }
}

// Custom reusable flex grid
//

.l-f-grid {
  @include mappy-query(b-small) {
    display: flex;
    margin-left: - rem(20);
    margin-right: - rem(20);
  }
}

.l-f-grid__column {
  @include mappy-query(b-small) {
    flex: 1;
    padding-left: rem(20);
    padding-right: rem(20);
  }

  .l-f-grid--cols-2 & {
    @include mappy-query(b-small) {
      width: (1/2) * 100%;
    }
  }
  .l-f-grid--cols-3 & {
    @include mappy-query(b-small) {
      width: (1/3) * 100%;
    }
  }
}
