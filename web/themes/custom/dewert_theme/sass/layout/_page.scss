// @file
// Global pages layout

.site-container{
  background-color: $page-color;
  // For a sticky footer
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}

// Global header
.site-header{
  width: 100%;

  @include mappy-query(b-medium) {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-bottom: rhythm(1);
    padding-top: rhythm(1);
  }
}

.button.button--header{
  font-size: rem(14);

  @include mappy-query(b-medium) {
    align-self: center;
  }

  span{
    color: lighten($brand-primary, 30%);
  }
}

.site-navigation{
  @include mappy-query(b-medium) {
    padding-left: 2em;
    padding-right: 2em;
  }
}

.site-logo{
  // flex-shrink: 0;

  @include mappy-query(b-medium) {
    align-self: center;
  }
}

.main-menu{
  list-style: none;
  margin-bottom: 0;
  padding-left: 0;

  @include mappy-query(b-medium) {
    display: flex;
    align-items: flex-start;
  }
}

.main-menu-link{
  color: $primary-text-color;
  font-size: rem(18);
  font-weight: 500;
  text-decoration: none;
  text-align: center;

  @include mappy-query(b-medium) {
    display: block;
    padding-left: .75em;
    padding-right: .75em;

    &:after{
      background-color: $brand-primary;
      border-radius: 2px;
      // background-color: transparent;
      content: "";
      display: block;
      height: 3px;
      margin: 4px auto 0;
      width: 0;
      transition: all 180ms ease-in;
    }

    &.is-active{
      color: $brand-primary;

      &:after{
        width: 70%;
      }

      &:hover{
        color: $brand-primary;
        transform: none;

        &:after{
          transform: none;
        }
      }
    }

    &:hover{
      color: $primary-text-color;
      transform: translateY(-3px);

      &:after{
        transform: translateY(3px);
        width: 70%;
      }
    }
  }
}

// Global main content sections
.site-main{
  flex: 1; // Sticky footer
  outline: none;
}

.site-content-top{}

.site-content{}

// Global footer
.site-footer{
  background-color: $brand-primary;
  box-sizing: border-box;
  margin: 0 rem(20) rem(20);
  padding: rhythm(1) rem(20);

  a{
    color: $white;
  }
}

// Footer c2a

.footer-c2a{
  margin-bottom: rhythm(2);

  @include mappy-query(b-medium) {
    display: flex;
  }

  .left{
    @include mappy-query(b-medium) {
      flex: 1 1 50%;
      margin-right: rhythm(3);
      max-width: rem(720);
    }

    @include mappy-query(b-big) {
      flex: 1 1 60%;
    }
  }

  .right{
    @include mappy-query(b-medium) {
      margin-top: rhythm(3/2);
    }
  }
}

.footer-c2a__title{
  color: $brand-primary-dark;
  font-size: font-size-xl;

  &:after{
    @include css-content(block, 56px, 3px);
    background-color: $brand-primary-dark;
    border-radius: 2px;
    margin-top: rhythm(1);
  }
}

.footer-c2a__text{
  color: $white;
  font-weight: 600;
}

.footer-c2a__contacts{
  color: $brand-primary-dark;
  list-style: none;
  padding-left: 0;

  a{
    color: $white;
    text-decoration: none;
  }
}

.footer-c2a__contact{
  font-weight: 600;
  margin-bottom: rhythm(1);
  padding-left: rem(40);
  position: relative;

  i{
    display: inline-block;
    text-align: center;
    font-size: 20px;
    position: absolute;
    left: 0;
    top: rem(4);
    min-width: rem(30);
  }
}

.site-footer__copyright{
  color: $white;
  font-size: $font-size-md;
}

// Wave
// on frontpage works types

.l-flex-wave{
  @include mappy-query(b-medium) {
    display: flex;
    margin-left: - rem(10);
    margin-right: - rem(10);
  }
}

.l-flex-wave__header{
  @include mappy-query(b-medium) {
    padding-left: rem(10);
    padding-right: rem(10);
  }
}

.l-flex-wave__rows{
  @include mappy-query(b-medium) {
    display: flex;
    flex: 1 0 75%;
    padding-left: rem(10);
    padding-right: rem(10);
    margin-left: - rem(10);
    margin-right: - rem(10);
  }

  > *{
    margin-bottom: rhythm(1);

    @include mappy-query(b-medium) {
      margin-bottom: 0;
      flex-grow: 1;
      flex-basis: 0;
      padding-left: rem(10);
      padding-right: rem(10);

      &:first-child{
        margin-top: rhythm(2);
      }
      &:nth-child(2){
        margin-top: rhythm(3);
      }
      &:nth-child(3){
        margin-top: rhythm(1);
      }
    }
  }
}
